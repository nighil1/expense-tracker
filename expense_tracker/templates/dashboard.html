<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<div class="dashboard">

<div class="section">
    <h2>Monthly Overview</h2>
    <canvas id="barChart"></canvas>
</div>

<div class="section stat">
    <span>Income</span><strong>₹{{ income }}</strong>
</div>
<div class="section stat">
    <span>Expense</span><strong>₹{{ expense }}</strong>
</div>

<div class="section">
    <h3>Expense Distribution</h3>
    <canvas id="donutChart"></canvas>
</div>

<div class="section">
    <h3>AI Insight</h3>
    <p>{{ feedback }}</p>
</div>

<div class="section">
    <form method="post">
        <input name="amount" placeholder="Expense amount" required>
        <input name="description" placeholder="Description" required>
        <button>Add Expense</button>
    </form>

    <form action="/add_income" method="post">
        <input name="income" placeholder="Add income">
        <button>Add Income</button>
    </form>
</div>

</div>

<script>
new Chart(barChart,{
 type:'bar',
 data:{
  labels:['Feb','Mar','Apr','May','Jun','Jul'],
  datasets:[
   {label:'Income',data:{{ income_data }},backgroundColor:'#22c55e',borderRadius:8},
   {label:'Expense',data:{{ expense_data }},backgroundColor:'#facc15',borderRadius:8}
  ]
 }
});

new Chart(donutChart,{
 type:'doughnut',
 data:{
  labels:{{ categories }},
  datasets:[{
   data:{{ amounts }},
   backgroundColor:['#22c55e','#facc15','#38bdf8','#f87171','#a78bfa'],
   cutout:'75%'
  }]
 }
});
</script>

</body>
</html>
